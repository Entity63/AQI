<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>AQI — Prediction</title>
<style>
  body {
    font-family: Arial, Helvetica, sans-serif;
    background: url('https://png.pngtree.com/thumb_back/fh260/background/20250319/pngtree-a-towering-industrial-power-plant-image_17090507.jpg') no-repeat center center fixed;
    background-size: cover;
    color:#123;
    text-align:center;
    padding:32px;
  }

  /* Slightly more faded (5% less opaque) overlay */
  .overlay {
    background: rgba(255, 255, 255, 0.05);
    padding: 40px;
    border-radius: 20px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.1);
    display: inline-block;
  }

  .card {
    display:inline-block;
    background: rgba(255,255,255,0.80);
    padding: 20px 28px;
    border-radius: 20px;
    box-shadow: 0 6px 25px rgba(0,0,0,0.08);
    min-width:340px;
    margin-top:20px;
    transition: all 0.3s ease;
  }

  .card:hover {
    box-shadow: 0 10px 40px rgba(0,0,0,0.15);
    transform: translateY(-3px);
  }

  .city { font-size:22px; font-weight:700; color:#0b5d8a; }
  .aqi { font-size:72px; font-weight:800; margin:8px 0; }
  .label { font-size:20px; font-weight:700; }
  .meta { margin-top:10px; color:#446; }
  .small { font-size:14px; color:#556; }
  .try { margin-top:14px; font-size:14px; }
  button {
    padding:8px 12px;
    border-radius:8px;
    border:none;
    background:#0b5d8a;
    color:rgb(255, 255, 255);
    cursor:pointer;
  }
  input {
    padding:8px 12px;
    border-radius:8px;
    border:1px solid #bbb;
    width:220px;
    margin-right:8px;
  }
</style>
</head>
<body>
<div class="overlay">
<h2>Air Quality Index (AQI) Prediction</h2>
<p>Enter your city or station name:</p>
<input type="text" id="cityInput" placeholder="Enter city name" />
<button onclick="predictAQI()">Check AQI</button>

<div class="card" id="card">
  <div id="content">
    
  </div>
</div>
</div>

<script>
// ------------------ Expanded Dataset (2022-like) ------------------
const DATASET = {
  // Maharashtra
  "pune": {"city":"Pune","PM25":104,"PM10":130,"NO2":25,"SO2":1,"CO":0.9,"AQI":122},
  "mumbai": {"city":"Mumbai","PM25":82,"PM10":156,"NO2":65,"SO2":18,"CO":1.1,"AQI":138},
  "nagpur": {"city":"Nagpur","PM25":70,"PM10":130,"NO2":28,"SO2":11,"CO":0.8,"AQI":115},
  "nashik": {"city":"Nashik","PM25":60,"PM10":108,"NO2":25,"SO2":9,"CO":0.7,"AQI":95},
  "aurangabad": {"city":"Aurangabad","PM25":74,"PM10":187,"NO2":25,"SO2":9,"CO":0.8,"AQI":110},
  "kolhapur": {"city":"Kolhapur","PM25":55,"PM10":98,"NO2":20,"SO2":8,"CO":0.6,"AQI":90},
  "solapur": {"city":"Solapur","PM25":68,"PM10":140,"NO2":33,"SO2":10,"CO":1.0,"AQI":120},
  "thane": {"city":"Thane","PM25":84,"PM10":150,"NO2":47,"SO2":17,"CO":1.2,"AQI":140},
  "amravati": {"city":"Amravati","PM25":64,"PM10":120,"NO2":22,"SO2":7,"CO":0.8,"AQI":100},
  "jalgaon": {"city":"Jalgaon","PM25":75,"PM10":160,"NO2":29,"SO2":12,"CO":0.9,"AQI":125},
  "chandrapur": {"city":"Chandrapur","PM25":96,"PM10":180,"NO2":40,"SO2":14,"CO":1.2,"AQI":155},
  "latur": {"city":"Latur","PM25":72,"PM10":132,"NO2":26,"SO2":9,"CO":0.7,"AQI":110},
  "ratnagiri": {"city":"Ratnagiri","PM25":48,"PM10":90,"NO2":18,"SO2":7,"CO":0.6,"AQI":80},
  "sangli": {"city":"Sangli","PM25":58,"PM10":100,"NO2":20,"SO2":8,"CO":0.7,"AQI":90},
  "akola": {"city":"Akola","PM25":85,"PM10":155,"NO2":35,"SO2":12,"CO":0.9,"AQI":135},
  "beed": {"city":"Beed","PM25":68,"PM10":125,"NO2":26,"SO2":8,"CO":0.7,"AQI":110},
  "nanded": {"city":"Nanded","PM25":78,"PM10":145,"NO2":30,"SO2":10,"CO":0.8,"AQI":125},
  "parbhani": {"city":"Parbhani","PM25":74,"PM10":135,"NO2":28,"SO2":9,"CO":0.8,"AQI":115},
  "dhule": {"city":"Dhule","PM25":65,"PM10":120,"NO2":24,"SO2":8,"CO":0.7,"AQI":105},
  "wardha": {"city":"Wardha","PM25":62,"PM10":118,"NO2":22,"SO2":8,"CO":0.7,"AQI":100},

  // Other metros
  "delhi": {"city":"Delhi","PM25":180,"PM10":250,"NO2":70,"SO2":22,"CO":1.5,"AQI":290},
  "bengaluru": {"city":"Bengaluru","PM25":60,"PM10":90,"NO2":32,"SO2":6,"CO":0.9,"AQI":95},
  "chennai": {"city":"Chennai","PM25":58,"PM10":110,"NO2":28,"SO2":7,"CO":0.8,"AQI":100},
  "hyderabad": {"city":"Hyderabad","PM25":70,"PM10":130,"NO2":35,"SO2":9,"CO":1.0,"AQI":115},
  "ahmedabad": {"city":"Ahmedabad","PM25":110,"PM10":200,"NO2":50,"SO2":15,"CO":1.3,"AQI":180},
  "kolkata": {"city":"Kolkata","PM25":130,"PM10":210,"NO2":55,"SO2":18,"CO":1.4,"AQI":200},
  "jaipur": {"city":"Jaipur","PM25":95,"PM10":170,"NO2":45,"SO2":13,"CO":1.0,"AQI":160},
  "lucknow": {"city":"Lucknow","PM25":150,"PM10":230,"NO2":65,"SO2":20,"CO":1.3,"AQI":240},
  "indore": {"city":"Indore","PM25":80,"PM10":140,"NO2":38,"SO2":10,"CO":0.9,"AQI":130},
  "surat": {"city":"Surat","PM25":88,"PM10":160,"NO2":42,"SO2":12,"CO":1.0,"AQI":140},
  "patna": {"city":"Patna","PM25":170,"PM10":240,"NO2":60,"SO2":20,"CO":1.4,"AQI":270},
  "bhopal": {"city":"Bhopal","PM25":78,"PM10":135,"NO2":33,"SO2":9,"CO":0.9,"AQI":120},
  "chandigarh": {"city":"Chandigarh","PM25":95,"PM10":160,"NO2":45,"SO2":12,"CO":1.0,"AQI":150},
  "coimbatore": {"city":"Coimbatore","PM25":55,"PM10":95,"NO2":26,"SO2":7,"CO":0.8,"AQI":85},
  "visakhapatnam": {"city":"Visakhapatnam","PM25":70,"PM10":125,"NO2":35,"SO2":10,"CO":1.0,"AQI":115},
  "vadodara": {"city":"Vadodara","PM25":82,"PM10":150,"NO2":40,"SO2":11,"CO":0.9,"AQI":130},
  "trivandrum": {"city":"Trivandrum","PM25":52,"PM10":90,"NO2":22,"SO2":7,"CO":0.6,"AQI":80},
  "guwahati": {"city":"Guwahati","PM25":75,"PM10":130,"NO2":32,"SO2":9,"CO":0.8,"AQI":110}
};

// ------------------ Utility ------------------
function normalize(s){
  return s.toString().trim().toLowerCase().replace(/\s+/g," ");
}

// ------------------ AQI Category Mapping ------------------
function getCategory(aqi){
  if(aqi <= 50) return {label:"Good", color:"#00e400", advice:"Air quality is good. No precautions needed."};
  if(aqi <= 100) return {label:"Satisfactory", color:"#9cff9c", advice:"Acceptable. Sensitive people should take minor precautions."};
  if(aqi <= 200) return {label:"Moderate", color:"rgb(255, 200, 0)", advice:"Sensitive groups should limit prolonged outdoor exertion."};
  if(aqi <= 300) return {label:"Poor", color:"#ff7e00", advice:"Avoid prolonged outdoor exertion. Sensitive groups stay indoors."};
  if(aqi <= 400) return {label:"Very Poor", color:"#ff0000", advice:"Health impact likely. Everyone should reduce outdoor activity."};
  return {label:"Severe", color:"#7e0023", advice:"Health alert: Everyone may experience serious health effects."};
}

// ------------------ Prediction ------------------
function predictAQI(){
  const cityInput = document.getElementById("cityInput").value;
  const key = normalize(cityInput);
  const content = document.getElementById("content");

  if(!cityInput){
    content.innerHTML = "<div class='small'>Please enter a city name.</div>";
    return;
  }

  let data = DATASET[key];
  if(!data){
    const found = Object.keys(DATASET).find(k => k.includes(key));
    if(found) data = DATASET[found];
  }

  if(!data){
    content.innerHTML = `<div class='small'>No AQI data found for "<b>${cityInput}</b>".</div>`;
    return;
  }

  const predictedAQI = Math.round(
    (0.45 * data.PM25) +
    (0.25 * data.PM10/2) +
    (0.15 * data.NO2) +
    (0.10 * data.SO2) +
    (0.05 * data.CO * 10)
  );

  const category = getCategory(predictedAQI);

  content.innerHTML = `
    <div class="city">${data.city}</div>
    <div class="aqi" style="color:${category.color}">${predictedAQI}</div>
    <div class="label">${category.label}</div>
    <div class="meta">
      PM2.5: ${data.PM25} | PM10: ${data.PM10} | NO₂: ${data.NO2} | SO₂: ${data.SO2} | CO: ${data.CO}
    </div>
    <div class="try">${category.advice}</div>
  `;
}
</script>
</body>
</html>
